<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Brain-Rot Football Manager Generator</title>
  <meta name="viewport" content="width=900">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { margin: 0; background: #191026; color: #e0d7f8; font-family: 'Inter', Arial, sans-serif; min-width: 900px;}
    .header { background: linear-gradient(90deg, #2a134a 50%, #6e49d0 100%); padding: 24px 0 16px 0; }
    .header-content { max-width: 900px; margin: 0 auto; display:flex;align-items:center;}
    .header-title { font-family: 'Montserrat', Arial, sans-serif; font-size: 1.75rem; font-weight: 700; color: #fff; letter-spacing:1.5px; text-shadow:0 2px 8px #2228;}
    .header-actions { display: flex; gap: 12px; margin-left: auto;}
    .header-actions button { font-size: 1rem; font-weight: 500; border: none; border-radius: 6px; padding: 8px 22px; cursor: pointer; outline:none; box-shadow:0 2px 8px #0002; transition: transform 0.15s, box-shadow 0.25s;}
    .header-actions button.gen { background: #6e49d0; color: #fff;}
    .header-actions button.save { background: #d9a6ff; color: #2a134a;}
    .header-actions button.load { background: #b785fd; color: #2a134a;}
    .header-actions button.potential { background: #b01ad9; color: #fff;}
    .header-actions button:active { transform: scale(0.97);}
    .header-actions button:hover { box-shadow:0 4px 16px #6e49d044;}
    .container { max-width: 900px; margin: 0 auto; padding-top: 18px;}
    .players-table { width: 100%; border-collapse: collapse; background: #23143b; border-radius: 10px; overflow: hidden; box-shadow: 0 2px 16px #0004;}
    .players-table th, .players-table td { font-size: 1.03rem; text-align: left; padding: 10px 8px;}
    .players-table th { background: #25123a; color: #c9a0ff; font-weight: 600; transition: background 0.2s;}
    .players-table tr { background: #191026; border-bottom: 1px solid #331c55; animation: fadeInRow 0.6s;}
    .players-table tr.selected, .players-table tr:hover { background: linear-gradient(90deg,#33136d 80%, #6e49d0 120%);}
    .players-table td.name-cell { font-weight: bold;}
    .players-table td.role-cell { color: #a37aff;}
    .players-table .stat-highlight { color: #c287ff; font-weight: bold;}
    .players-table .stat-low { color: #ff50a9; font-weight: 600;}
    .rainbow-glow {
      background: linear-gradient(90deg, #FF0080, #7928CA, #0070F3, #00FFAE, #FFCB00, #FF0080);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      color: transparent;
      animation: rainbow 2.7s linear infinite;
      font-weight: bold;
      text-shadow: 0 0 8px #fff, 0 0 16px #ffbaff;
    }
    @keyframes rainbow {
      0% {background-position:0% 50%;}
      50% {background-position:100% 50%;}
      100% {background-position:0% 50%;}
    }
    .player-detail { display: flex; gap: 28px; margin-top: 32px; background: #23143b; border-radius: 14px; padding: 34px 38px 34px 36px; box-shadow: 0 8px 32px #2a134a88; animation: popIn 0.7s;}
    .player-info { flex: 0 0 260px;}
    .player-name { font-family: 'Montserrat', Arial, sans-serif; font-weight: 700; font-size: 1.35em; color: #fff; letter-spacing:1px; margin-bottom:5px; text-shadow:0 2px 6px #0005;}
    .player-meta { color: #c9a0ff; font-size: 1.07em; margin-bottom:5px;}
    .player-pos { font-family: 'Montserrat', Arial, sans-serif; color: #d9a6ff; font-weight: 700;}
    .player-gender { font-size:1.1em; color:#ff43d1; font-weight:700; margin-left:10px; text-shadow:0 0 6px #ff43d1;}
    .stat-panels { flex: 1 1 0; display: flex; gap: 28px;}
    .stat-panel { min-width: 155px; background: #1e0d2c; border-radius: 9px; padding: 13px 18px 16px 14px; color: #fff; font-size: 1.01em; box-shadow: 0 2px 14px #0003; animation: fadeInPanel 0.7s;}
    .stat-title { font-family: 'Montserrat', Arial, sans-serif; color: #b785fd; font-weight: 700; font-size: 1.13em; margin-bottom: 7px;}
    .stat-list { list-style: none; margin: 0; padding: 0;}
    .stat-list li { display: flex; justify-content: space-between;}
    .stat-list .stat-highlight { color: #c287ff;}
    .stat-list .stat-low { color: #ff50a9;}
    .potential-hidden { display: none;}
    .potential-shown .potential-hidden { display: inline; color: #ff43d1; font-weight: bold; margin-left: 10px;}
    .search-row { display: flex; gap: 12px; margin-bottom: 15px;}
    .search-bar { flex: 1 1 0; background: #25123a; border: 1.5px solid #6e49d0; color: #c9a0ff; font-size: 1.07rem; outline: none; border-radius: 5px; padding: 8px 14px; font-family: inherit;}
    .dropdown { background: #25123a; border: 1.5px solid #6e49d0; color: #c9a0ff; border-radius: 5px; font-size: 1.07rem; padding: 8px 14px; font-family: inherit;}
    .saved-toast {
      position: fixed;
      left: 50%; top: 28px; transform: translateX(-50%);
      background: #6e49d0; color: #fff; font-weight:700; padding: 12px 36px;
      border-radius: 7px; font-size: 1.12em; box-shadow:0 2px 10px #2a134a88; z-index:999;
      opacity: 0; pointer-events:none; transition: opacity .5s;
      animation: fadeInOut 2.5s;
    }
    .saved-toast.show { opacity:1;}
    .stats-summary {display:flex; gap:32px; margin:28px 0 8px 0; font-size:1.08em;}
    .stats-summary-box {background:#23143b; border-radius:8px; padding:12px 22px;}
    .stats-summary-label {color:#d9a6ff;font-weight:700;}
    .stats-summary-val {margin-left:6px; font-weight:700;}
    @keyframes fadeInRow { from { opacity:0; transform:translateY(-18px);} to { opacity:1; transform:none; } }
    @keyframes popIn { 0% { transform:scale(0.93) translateY(30px); opacity:0; } 100% { transform:none; opacity:1; } }
    @keyframes fadeInPanel { from { opacity:0; transform:translateY(15px);} to { opacity:1; transform:none; } }
    @keyframes fadeInOut {
      0% { opacity: 0;}
      10% { opacity: 1;}
      85% { opacity: 1;}
      100% { opacity: 0;}
    }
    @media (max-width: 900px) {
      .player-detail { flex-direction: column; gap: 14px; padding: 16px 6px;}
      .stat-panels { flex-direction: column; gap: 16px;}
      .stats-summary { flex-direction:column; gap:12px;}
    }
  </style>
</head>
<body>
  <div class="header">
    <div class="header-content">
      <div>
        <div class="header-title">Brain-Rot Football Manager Generator</div>
        <div style="color:#b0b8c8;margin-bottom:8px;">Balanced Lithuanian meme squad, every player unique.</div>
      </div>
      <div class="header-actions">
        <button class="gen" id="btn-generate">Generate Squad</button>
        <button class="save" id="btn-save">Save Squad</button>
        <button class="load" id="btn-load">Load Squad</button>
        <button class="potential" id="btn-potential">Show Potential</button>
      </div>
    </div>
  </div>
  <div class="container">
    <div class="stats-summary" id="stats-summary"></div>
    <div class="search-row">
      <input class="search-bar" id="search" placeholder="Search players..." autocomplete="off">
      <select class="dropdown" id="pos-filter">
        <option value="All">All Types</option>
        <option value="DEF">Defenders</option>
        <option value="MID">Midfielders</option>
        <option value="ATT">Attackers</option>
        <option value="GK">Goalkeeper</option>
      </select>
    </div>
    <table class="players-table" id="players-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Name</th>
          <th>Role</th>
          <th>Type</th>
          <th>Age</th>
          <th>Height</th>
          <th>Weight</th>
          <th>Foot</th>
          <th>TEC</th>
          <th>MEN</th>
          <th>PHY</th>
          <th>GK</th>
        </tr>
      </thead>
      <tbody>
      </tbody>
    </table>
    <div id="player-detail"></div>
  </div>
  <div class="saved-toast" id="toast"></div>
  <script>
    const roles = [
      // GK
      {role:"GK (D)", type:"GK"}, {role:"Sweeper Keeper (D/S/A)", type:"GK"},
      // DEF
      {role:"Central Defender (D/C/S)", type:"DEF"}, {role:"Ball-Playing Defender (D/C/S)", type:"DEF"}, {role:"Libero (S/A)", type:"DEF"},
      {role:"Fullback (D/S/A)", type:"DEF"}, {role:"Wingback (D/S/A)", type:"DEF"}, {role:"Inverted Wingback (D/S/A)", type:"DEF"}, {role:"No-Nonsense Fullback (D)", type:"DEF"},
      // MID
      {role:"Defensive Midfielder (D/S)", type:"MID"}, {role:"Anchor (D)", type:"MID"}, {role:"Half-Back (D)", type:"MID"}, {role:"Deep-Lying Playmaker (D/S)", type:"MID"},
      {role:"Central Midfielder (D/S/A)", type:"MID"}, {role:"Box-to-Box Midfielder (S)", type:"MID"}, {role:"Advanced Playmaker (S/A)", type:"MID"}, {role:"Mezzala (S/A)", type:"MID"}, {role:"Carrilero (S)", type:"MID"},
      {role:"Attacking Midfielder (S/A)", type:"MID"}, {role:"Enganche (S)", type:"MID"}, {role:"Shadow Striker (A)", type:"MID"},
      // ATT
      {role:"Winger (S/A)", type:"ATT"}, {role:"Inverted Winger (S/A)", type:"ATT"}, {role:"Inside Forward (S/A)", type:"ATT"}, {role:"Wide Playmaker (S/A)", type:"ATT"}, {role:"Wide Target Forward (S/A)", type:"ATT"},
      {role:"Deep-Lying Forward (S/A)", type:"ATT"}, {role:"Advanced Forward (A)", type:"ATT"}, {role:"Target Forward (S/A)", type:"ATT"}, {role:"Poacher (A)", type:"ATT"}, {role:"Complete Forward (S/A)", type:"ATT"}, {role:"False Nine (S)", type:"ATT"}
    ];
    const allRoles = roles.map(r=>r.role);

    // Only use these names/surnames, rare ones for rarity logic
    const firstNames = [
      "Kostė", "Arnas", "Saldus", "Negras", "Cumbuketas", "Skibidas", "Rizardas", "Fanumas", "Gufis", "Livis", "Neonas",
      "Zestas", "Sasis", "Gleizas", "Mogas", "Ohajas", "Ožys", "Simpas", "Griozdas",
      "Sigma", "Bumeris", "Goblinas", "Tung", "Bombardinas", "Capučinas", "Shampanzinis", "Brr Brr", "Taleleras",
      "Kostelinas", "Balandis", "Koldunas", "Cesnakinis", "Nuogas", "Erelis", "Zveris", "Jucis", "Koldunas", "Velikinis", "Seksius", "Baka", "Gandonas", "Drocintonas",
      "Juodasiknis", "Urodas", "Bybiakaušis", "Gandonavičius", "Tampikas", "Homofobas", "Pusnuoginas"
    ];
    const rareFirstNames = ["Titas"];
    const surnames = [
      "Papas", "Bibys", "Grybauskaitis", "Stulpas", "Bumeris", "Niksonas", "Taksonas", "Mulletas",
      "Zubazas", "TikTokas", "Memė", "Influis", "Imposteris", "Diskas", "Mėnulis", "Tūlas", "Padažas", "Blokas",
      "Kasetė", "Sonis", "Rizas", "Grandas", "Assasinas", "Banananinas", "Patapimas", "Tralala",
      "Zombeloidas", "Bumbulis", "Storas", "Griaustinis", "Pystas", "Kiausininis", "Susainis", "Pidarelis", "Eksadronas",
      "Liesbietis", "Sliukonas", "Tuntuhas", "Drekintuvas", "Prostitutas", "Ciulpikas", "Gejutraukis", "Alkapone", "Trapezoidas"
    ];
    const rareSurnames = ["Samsonas"];

    function randomUniqueName(usedNames) {
      let tries = 0;
      let isRare = false;
      let fn, sn;
      while (tries++ < 1000) {
        let useRareFirst = (Math.random() < 1/25);
        let useRareSurname = (Math.random() < 1/25);

        if (useRareFirst) {
          fn = rareFirstNames[0];
        } else {
          fn = firstNames[Math.floor(Math.random()*firstNames.length)];
        }
        if (useRareSurname) {
          sn = rareSurnames[0];
        } else {
          sn = surnames[Math.floor(Math.random()*surnames.length)];
        }
        if (fn === rareFirstNames[0] || sn === rareSurnames[0]) isRare = true;

        const full = fn + " " + sn;
        if (!usedNames.has(full)) {
          usedNames.add(full);
          return {full, fn, sn, isRare};
        }
      }
      // fallback if somehow all combinations are used
      return {full: "Brr Brr Patapimas", fn: "Brr Brr", sn: "Patapimas", isRare: false};
    }

    function roll(min,max) { return Math.floor(Math.random()*(max-min+1))+min; }
    function randomFoot() {
      const t = roll(1,10);
      return t === 1 ? "Both" : (t < 6 ? "Left" : "Right");
    }
    const statDefs = {
      Technical: [
        "Corners", "Crossing", "Dribbling", "Finishing", "First Touch", "Free Kick Taking", "Heading",
        "Long Shots", "Long Throws", "Marking", "Passing", "Penalty Taking", "Tackling", "Technique"
      ],
      Mental: [
        "Aggression", "Anticipation", "Bravery", "Composure", "Concentration", "Decisions",
        "Determination", "Flair", "Leadership", "Off the Ball", "Positioning", "Teamwork",
        "Vision", "Work Rate"
      ],
      Physical: [
        "Acceleration", "Agility", "Balance", "Jumping Reach", "Natural Fitness", "Pace",
        "Stamina", "Strength"
      ],
      Goalkeeping: [
        "Aerial Reach", "Command of Area", "Communication", "Eccentricity", "Handling", "Kicking", "One on Ones",
        "Reflexes", "Rushing Out", "Tendency to Punch", "Throwing"
      ]
    };
    const statRanges = {
      Technical: [2,12],
      Mental: [3,14],
      Physical: [3,13],
      Goalkeeping: [2,12]
    };
    function statClass(val, max) {
      if(val>=max-2) return "stat-highlight";
      if(val<=Math.floor(max/3)) return "stat-low";
      return "";
    }
    function getRoleType(role) {
      let o = roles.find(r=>r.role===role);
      return o ? o.type : "MID";
    }
    function generateSquad() {
      let used = {}, usedNames = new Set();
      function pickRole(type) {
        let pool = roles.filter(r=>r.type===type && !used[r.role]);
        if(pool.length===0) pool = roles.filter(r=>r.type===type);
        let r = pool[roll(0,pool.length-1)];
        used[r.role]=true;
        return r.role;
      }
      let squad = [];
      squad.push(genPlayer(pickRole("GK"),"GK",usedNames));
      for(let i=0;i<5;i++) squad.push(genPlayer(pickRole("DEF"),"DEF",usedNames));
      for(let i=0;i<5;i++) squad.push(genPlayer(pickRole("MID"),"MID",usedNames));
      for(let i=0;i<4;i++) squad.push(genPlayer(pickRole("ATT"),"ATT",usedNames));
      players = squad;
      selectedIdx = 0;
      updateTable();
      updatePlayerDetail();
      updateSummary();
    }
    function genPlayer(role,type,usedNames) {
      const nobj = randomUniqueName(usedNames);
      const name = nobj.full, fn = nobj.fn, sn = nobj.sn;
      const age = roll(18,21), height = roll(150,190), weight = roll(50,95);
      const tec = roll(statRanges.Technical[0], statRanges.Technical[1]);
      const men = roll(statRanges.Mental[0], statRanges.Mental[1]);
      const phy = roll(statRanges.Physical[0], statRanges.Physical[1]);
      const technical = statDefs.Technical.map(()=>roll(statRanges.Technical[0], statRanges.Technical[1]));
      const mental = statDefs.Mental.map(()=>roll(statRanges.Mental[0], statRanges.Mental[1]));
      const physical = statDefs.Physical.map(()=>roll(statRanges.Physical[0], statRanges.Physical[1]));
      const goalkeeping = type==="GK" ? statDefs.Goalkeeping.map(()=>roll(statRanges.Goalkeeping[0],statRanges.Goalkeeping[1])) : [];
      const foot = randomFoot();
      const potential = roll(100,180);
      let gender = "♂";
      let rainbow = false;
      if(fn === "Titas" || sn === "Samsonas") {
        gender = "Gay";
        rainbow = true;
      }
      return {
        name, fn, sn, age, height, weight, role, type, tec, men, phy, technical, mental, physical, foot, potential, goalkeeping, gender, rainbow
      };
    }
    function showToast(msg) {
      const toast = document.getElementById('toast');
      toast.innerText = msg;
      toast.classList.add('show');
      setTimeout(()=>toast.classList.remove('show'),1700);
    }
    function saveSquad() {
      localStorage.setItem("brainrotSquad",JSON.stringify(players));
      showToast("Squad saved!");
    }
    function loadSquad() {
      let d = localStorage.getItem("brainrotSquad");
      if(!d) return showToast("No squad found!");
      players = JSON.parse(d);
      selectedIdx = 0;
      updateTable();
      updatePlayerDetail();
      updateSummary();
      showToast("Squad loaded!");
    }
    let players = [];
    let selectedIdx = 0;
    let showPotential = false;
    let searchText = "";
    let posFilterVal = "All";
    function squadOrder(a,b) {
      const order = {DEF:0, MID:1, ATT:2, GK:3};
      if(order[a.type]!==order[b.type]) return order[a.type]-order[b.type];
      return a.role.localeCompare(b.role);
    }
    function updateTable() {
      let filtered = players.map((p,i)=>({...p, idx:i}));
      if(searchText) filtered = filtered.filter(p=>p.name.toLowerCase().includes(searchText.toLowerCase()));
      if(posFilterVal && posFilterVal!=="All") filtered = filtered.filter(p=>p.type===posFilterVal);
      filtered = filtered.sort(squadOrder);
      const tbody = document.querySelector("#players-table tbody");
      tbody.innerHTML = "";
      filtered.forEach((p,idx)=>{
        const isSel = (p.idx===selectedIdx);
        const gkVal = p.type==="GK" ? Math.round((p.goalkeeping.reduce((a,b)=>a+b,0)/p.goalkeeping.length)||0) : "-";
        const nameTd = p.rainbow
          ? `<span class="rainbow-glow">${p.name}</span>`
          : p.name;
        tbody.innerHTML += `
          <tr class="${isSel?"selected":""}" data-idx="${p.idx}">
            <td>${idx+1}</td>
            <td class="name-cell">${nameTd}${p.rainbow?' <span class="player-gender">(gay)</span>':''}</td>
            <td class="role-cell">${p.role}</td>
            <td>${p.type}</td>
            <td>${p.age}</td>
            <td>${p.height}cm</td>
            <td>${p.weight}kg</td>
            <td>${p.foot}</td>
            <td class="${statClass(p.tec,12)}">${p.tec}</td>
            <td class="${statClass(p.men,14)}">${p.men}</td>
            <td class="${statClass(p.phy,13)}">${p.phy}</td>
            <td>${gkVal}</td>
          </tr>
        `;
      });
      Array.from(tbody.querySelectorAll("tr")).forEach(row=>{
        row.onclick = ()=>{
          selectedIdx = Number(row.getAttribute("data-idx"));
          updateTable();
          updatePlayerDetail();
        };
      });
    }
    function updatePlayerDetail() {
      const p = players[selectedIdx]||players[0];
      if(!p) { document.getElementById('player-detail').innerHTML = ""; return; }
      const nameSpan = p.rainbow
        ? `<span class="rainbow-glow">${p.name}</span>`
        : p.name;
      document.getElementById("player-detail").innerHTML = `
        <div class="player-detail${showPotential?' potential-shown':''}">
          <div class="player-info">
            <div class="player-name">${nameSpan}${p.rainbow?' <span class="player-gender">(gay)</span>':''}</div>
            <div class="player-meta">
              <span>${p.age} years</span> <span>${p.height} cm</span> <span>${p.weight} kg</span>
              <span class="player-pos">${p.role}</span>
              <span>${p.foot} Foot</span>
            </div>
            <span class="potential-hidden">Potential: ${p.potential}</span>
          </div>
          <div class="stat-panels">
            <div class="stat-panel">
              <div class="stat-title">TECHNICAL <span style="font-size:.97em;font-weight:700;color:#fff">${p.tec}</span></div>
              <ul class="stat-list">
                ${statDefs.Technical.map((s,i)=>`<li>${s}<span class="${statClass(p.technical[i],12)}">${p.technical[i]}</span></li>`).join("")}
              </ul>
            </div>
            <div class="stat-panel">
              <div class="stat-title">MENTAL <span style="font-size:.97em;font-weight:700;color:#fff">${p.men}</span></div>
              <ul class="stat-list">
                ${statDefs.Mental.map((s,i)=>`<li>${s}<span class="${statClass(p.mental[i],14)}">${p.mental[i]}</span></li>`).join("")}
              </ul>
            </div>
            <div class="stat-panel">
              <div class="stat-title">PHYSICAL <span style="font-size:.97em;font-weight:700;color:#fff">${p.phy}</span></div>
              <ul class="stat-list">
                ${statDefs.Physical.map((s,i)=>`<li>${s}<span class="${statClass(p.physical[i],13)}">${p.physical[i]}</span></li>`).join("")}
              </ul>
            </div>
            ${p.type==="GK"?`
            <div class="stat-panel">
              <div class="stat-title">GOALKEEPING <span style="font-size:.97em;font-weight:700;color:#fff">${Math.round((p.goalkeeping.reduce((a,b)=>a+b,0)/p.goalkeeping.length)||0)}</span></div>
              <ul class="stat-list">
                ${statDefs.Goalkeeping.map((s,i)=>`<li>${s}<span class="${statClass(p.goalkeeping[i],12)}">${p.goalkeeping[i]}</span></li>`).join("")}
              </ul>
            </div>
            `:""}
          </div>
        </div>
      `;
    }
    function avg(arr) { return arr.length?arr.reduce((a,b)=>a+b,0)/arr.length:0; }
    function updateSummary() {
      let tTec=[], tMen=[], tPhy=[], tGk=[];
      players.forEach(p=>{
        tTec.push(...p.technical);
        tMen.push(...p.mental);
        tPhy.push(...p.physical);
        if(p.type==="GK" && p.goalkeeping.length) tGk.push(...p.goalkeeping);
      });
      const sumBox = document.getElementById("stats-summary");
      sumBox.innerHTML = `
        <div class="stats-summary-box"><span class="stats-summary-label">TEC avg:</span> <span class="stats-summary-val">${(avg(tTec)||0).toFixed(2)}</span></div>
        <div class="stats-summary-box"><span class="stats-summary-label">MEN avg:</span> <span class="stats-summary-val">${(avg(tMen)||0).toFixed(2)}</span></div>
        <div class="stats-summary-box"><span class="stats-summary-label">PHY avg:</span> <span class="stats-summary-val">${(avg(tPhy)||0).toFixed(2)}</span></div>
        <div class="stats-summary-box"><span class="stats-summary-label">GK avg:</span> <span class="stats-summary-val">${tGk.length?(avg(tGk)).toFixed(2):"-"}</span></div>
      `;
    }
    document.getElementById('search').addEventListener('input', function() {
      searchText = this.value;
      updateTable();
    });
    document.getElementById('pos-filter').addEventListener('change', function() {
      posFilterVal = this.value;
      updateTable();
    });
    document.getElementById('btn-generate').onclick = ()=>{
      generateSquad();
      updateSummary();
    };
    document.getElementById('btn-save').onclick = saveSquad;
    document.getElementById('btn-load').onclick = loadSquad;
    document.getElementById('btn-potential').onclick = function() {
      showPotential = !showPotential;
      this.innerText = showPotential ? "Hide Potential" : "Show Potential";
      updatePlayerDetail();
    };
    generateSquad();
    updateSummary();
  </script>
</body>
</html>
